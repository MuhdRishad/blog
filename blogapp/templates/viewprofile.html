{%extends 'base.html'%}
{%block body_block%}


<div class="container-md">
    <div class="row justify-content-center mt-5">
        <div class="col-auto px-5">
            <div>
                <img src="{{request.user.users.profile_pic.url}}" alt="profile picture" class="img-fluid" style="width:200px;
                    height:200px;
                    border-radius:50%;">
            </div>
        </div>

        <div class="col-auto mt-5 px-5">
            <div>
                <h3>{{request.user}}<a href="{%url 'profile-update' request.user.users.id%}"
                                       class="card-link update-profile">Update profile</a></h3>
            </div>


            <div class="mt-4">
                <!--FOLLOWINGS-->
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-outline-secondary btn-sm me-3" data-bs-toggle="modal"
                        data-bs-target="#exampleModal">
                    <span>{{request.user.users.fetch_followings_count}}</span> followings
                </button>

                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Followings</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <ul style="list-style: none;">
                                    {%for user in request.user.users.fetch_followings%}
                                    <li style="line-height: 3; word-spacing: 10px">
                                        <img src="{{user.users.profile_pic.url}}" width="30px"
                                             class="rounded-circle" alt="">
                                        {{user}}
                                    </li>
                                    {%endfor%}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- FOLLOWERS-->
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-outline-secondary btn-sm me-3" data-bs-toggle="modal"
                        data-bs-target="#followers">
                    Followers
                </button>

                <!-- Modal -->
                <div class="modal fade" id="followers" tabindex="-1" aria-labelledby="followers-Modal-Label"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="followers-Modal-Label">Followers</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <ul style="list-style: none;">
                                    {%if request.user.users.get_followers%}
                                    {%for user in request.user.users.get_followers%}
                                    <li style="line-height: 3;">
                                        <img src="{{user.users.profile_pic.url}}" width="30px"
                                             class="rounded-circle mx-2" alt="">
                                        {{user.username}}
                                        <a href="{%url 'do-follow' user.id%}" class="follow-button">Follow</a>
                                    </li>
                                    {%endfor%}
                                    {%endif%}
                                </ul>

                            </div>
                        </div>
                    </div>
                </div>


                <!-- SUGGETIONS-->
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-outline-secondary btn-sm me-3" data-bs-toggle="modal"
                        data-bs-target="#example-Modal">
                    Suggetions
                </button>

                <!-- Modal -->
                <div class="modal fade" id="example-Modal" tabindex="-1" aria-labelledby="example-Modal-Label"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="example-Modal-Label">Suggetions</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <ul style="list-style: none;">
                                    {%if request.user.users.get_invitations%}
                                    {%for user in request.user.users.get_invitations%}
                                    <li style="line-height: 3;">
                                        <img src="{{user.users.profile_pic.url}}" width="30px"
                                             class="rounded-circle mx-2" alt="">
                                        {{user.username}}
                                        <a href="{%url 'do-follow' user.id%}" class="follow-button">Follow</a>
                                    </li>
                                    {%endfor%}
                                    {%endif%}
                                </ul>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-4">
                <p class="text-monospace ">{{request.user.first_name}} {{request.user.last_name}}</p>
            </div>

        </div>
         <hr class="my-5 w-75">
    </div>


    <div class="row">
        {%for blog in blogs%}
        <div class="col-sm-4 d-flex justify-content-center py-4">
            <div class="card" style="width: 18rem;">
                <img src="{{blog.image.url}}" class="card-img-top" alt="..." style="height: 250px">
                <div class="card-body">
                    <h5 class="card-title text-monospace text-capitalize">{{blog.title}}</h5>
                    <p class="card-text text-monospace">{{blog.description}}</p>
                    <p class="text-muted date-time">{{blog.posted_date}}</p>
                </div>
            </div>
        </div>
        {%endfor%}
    </div>

</div>


<!--&lt;!&ndash;Dont want&ndash;&gt;-->
<!--<div class="container">-->
<!--    <div class="row mt-5">-->
<!--        <div class="col-lg-4"></div>-->
<!--        <div class="col-lg-4">-->
<!--            <div class="card" style="width: 20rem;">-->
<!--                <img src="{{request.user.users.profile_pic.url}}" class="card-img-top img-fluid" alt="...">-->
<!--                <div class="card-body">-->
<!--                    <h5 class="card-title"><b>Username</b> - {{request.user}}</h5>-->
<!--                    <p class="card-text"><b>Bio</b> - {{request.user.users.bio}}</p>-->
<!--                </div>-->
<!--                <ul class="list-group list-group-flush">-->
<!--                    <li class="list-group-item"><b>Phone </b> - {{request.user.users.phone}}</li>-->
<!--                    <li class="list-group-item"><b>DOB </b> - {{request.user.users.date_of_birth}}</li>-->
<!--                    <li class="list-group-item"><b>Gender </b> - {{request.user.users.gender}}</li>-->
<!--                    <li class="list-group-item"><b>Following </b> - {%for user in request.user.users.fetch_followings%}-->
<!--                        {{user}}-->
<!--                        {%endfor%}-->
<!--                        {{request.user.users.fetch_followings_count}}-->
<!--                    </li>-->
<!--                </ul>-->
<!--                <div class="card-body">-->
<!--                    <a href="#" class="card-link">Card link</a>-->
<!--                    <a href="{%url 'profile-update' request.user.users.id%}" class="card-link">Update profile</a>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="col-lg-4">-->
<!--            <h3>Peoples you may know</h3>-->
<!--            {%if request.user.users.get_invitations%}-->
<!--            {%for user in request.user.users.get_invitations%}-->
<!--            <p>{{user.username}} <a href="{%url 'do-follow' user.id%}">Follow</a></p>-->

<!--            {%endfor%}-->
<!--            {%endif%}-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
{%endblock%}